;(function(e){var t;e.timeliner=function(n){t=jQuery.extend({timelineContainer:"#timelineContainer",startState:"closed",startOpen:"",baseSpeed:200,speed:4,fontOpen:"1.2em",fontClosed:"1em"},n);e(document).ready(function(){if(t.startState==="closed"){e(".timelineEvent").hide();e(t.startOpen).parent(".timelineMinor").find("dt a").removeClass("closed").addClass("open").animate({fontSize:t.fontOpen},t.baseSpeed);e(t.startOpen).show(t.speed*t.baseSpeed)}else{e(".timelineMinor dt, .timelineMinor dt a").addClass("open").css("fontSize",t.fontOpen);e(".timelineEvent").show()}e(".timelineMinor dt").click(function(){var n=e(this).attr("id");if(e(this).find("a").is(".open")){e("a",this).animate({fontSize:t.fontClosed},0).removeClass("open").addClass("closed");e("#"+n+"EX").hide(t.speed*t.baseSpeed)}else{e("a",this).removeClass("closed").addClass("open").animate({fontSize:t.fontOpen},t.baseSpeed);e("#"+n+"EX").show(t.speed*t.baseSpeed)}});e(".timelineMajorMarker").click(function(){var n=e(this).parents(".timelineMajor").find(".timelineMinor").length;var r=e(this).parents(".timelineMajor").find(".open").length;if(n>r){e(this).parents(".timelineMajor").find("dt a","dl.timelineMinor").animate({fontSize:t.fontOpen},t.baseSpeed).removeClass("closed").addClass("open");e(this).parents(".timelineMajor").find(".timelineEvent").show(t.speed*t.baseSpeed)}else{e(this).parents(".timelineMajor").find("dl.timelineMinor a").animate({fontSize:t.fontClosed},t.baseSpeed).removeClass("open").addClass("closed");e(this).parents(".timelineMajor").find(".timelineEvent").hide(t.speed*t.baseSpeed)}});e(".expandAll").toggle(function(){e(this).parents(t.timelineContainer).find("dt a","dl.timelineMinor").animate({fontSize:t.fontOpen},t.baseSpeed).removeClass("closed").addClass("open");e(this).parents(t.timelineContainer).find(".timelineEvent").show(t.speed*t.baseSpeed);e(this).html("- collapse all")},function(){e(this).parents(t.timelineContainer).find("dl.timelineMinor a").animate({fontSize:t.fontClosed},t.baseSpeed).removeClass("open").addClass("closed");e(this).parents(t.timelineContainer).find(".timelineEvent").hide(t.speed*t.baseSpeed);e(this).html("+ expand all")})})}})(jQuery)